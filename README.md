# Gradle IKVM Plugin

This plugin allows to compile the project jar into a .Net assembly using [IKVM](http://www.ikvm.net/).
It supports various IKVM flags, and also allows for .Net API documentation generation.

Below tasks are provided by the plugin:

## ikvm

This task depend on standard `jar` task, and builds the corresponding assembly.
It can be configured by a usual gradle convention, which `home` property is mandatory (unless the environment variable `IKVM_HOME` is set).

Sample usage:

    apply plugin:'java'
    apply plugin:'ikvm'

    repositories {
      mavenCentral()
    }
    
    // ikvmCompile configuration is added, and can be filled with dependencies (provided the dlls are available in some repository of yours)
    dependencies {
        ikvmCompile group: 'foo', name: 'bar', version: '1.0', type: '.dll'
    }
    
    
    ikvm {
      // using IKVM_HOME otherwise
      home = '../ikvm-0.46.0.1'
      
      // Below values have sensible defaults but can be overriden
      
      // Where will the assembly be generated
      destinationDir = jar.destinationDir
      
      // Assembly name
      assemblyName = project.name
      
      // Assembly version
      version = project.version
      
      // KeyFile for assembly signing
      keyFile = null
      
      // Generates PDB file for debugging purposes
      debug = true
      
      // Generates XML documentation file (from javadoc through custom DocLet)
      generateDoc = false
      
      // Other ikvmc options can be set:
      // fileVersion, target, main, classloader, delaySign, compressResources, removeAssertions, srcPath ...
    }


## ikvmDoc

This task extends standard `javadoc` task, and allows XML documentation to be generated for the assembly.
It depends on `ikvm` task, and uses a custom DocLet to generate the documentation.
Note: you can also have the documentation generated by `ikvm` task, using `generateDoc = true`.

Sample usage: either invoke `gradle ikvmDoc` or customize it:

    apply plugin:'java'
    apply plugin:'ikvm'

    repositories {
      mavenCentral()
    }
    
    task myDoc(type: IkvmDoc) {
      // customize javadoc options here
    }

# License

This plugin is licensed under an open-source license, which I was too lazy to fill in yet.